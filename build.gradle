
task wmsJson(type:Exec){
    workingDir 'pipemock/trafo_sql/wms'
    commandLine './tojson.sh'
}

task printJson(type:Exec){
    workingDir 'pipemock/trafo_sql/qwc_print'
    commandLine './tojson.sh'
}

task wfsJson(type:Exec){
    workingDir 'pipemock/trafo_sql/wfs'
    commandLine './tojson.sh'
}

task down(type:Exec){
    workingDir 'qgs_clust'
    commandLine 'docker-compose','down'
    ignoreExitValue true
}

task wmsQgs(type:Exec){
    dependsOn wmsJson
    workingDir 'pipemock/jqgs'
    commandLine './toWmsQgs.sh'
}

task printQgs(type:Exec){
    dependsOn printJson
    workingDir 'pipemock/jqgs'
    commandLine './toPrintQgs.sh'
}

task wfsQgs(type:Exec){
    dependsOn wfsJson
    workingDir 'pipemock/jqgs'
    commandLine './toWfsQgs.sh'
}

task ogcJson(type:Exec){
    workingDir 'pipemock/trafo_sql/ogc-service'
    commandLine './tojson.sh'
}

task permJson(type:Exec){
    workingDir 'pipemock/trafo_sql/permission'
    commandLine './tojson.sh'
}

task up(type:Exec){
    //dependsOn printQgs
    //dependsOn wfsQgs
    dependsOn down
    //dependsOn wmsQgs
    dependsOn ogcJson
    dependsOn permJson
    workingDir 'qgs_clust'
    commandLine 'docker-compose','up'
}
