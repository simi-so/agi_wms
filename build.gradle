
task wmsJson(type:Exec){
    workingDir 'pipemock/trafo_sql/wms'
    commandLine './tojson.sh'
}

task printJson(type:Exec){
    workingDir 'pipemock/trafo_sql/qwc_print'
    commandLine './tojson.sh'
}

task wmsDown(type:Exec){
    workingDir 'wms_clust'
    commandLine 'docker-compose','down'
    ignoreExitValue true
}

task wmsQgs(type:Exec){
    dependsOn wmsJson
    workingDir 'pipemock/jqgs'
    commandLine './toWmsQgs.sh'
}

task printQgs(type:Exec){
    dependsOn printJson
    workingDir 'pipemock/jqgs'
    commandLine './toPrintQgs.sh'
}

task wmsUp(type:Exec){
    dependsOn wmsQgs
    dependsOn printQgs
    dependsOn wmsDown
    workingDir 'wms_clust'
    commandLine 'docker-compose','up','-d'
}
